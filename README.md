# TestBookCatalog

Добрый день!
Это пример моего кода на тему "Книжный каталог".

- Проект создан на платформе .NET5
- REST
- ORM EntityFrameworkCore
- DB PostgreSQL

Возможности API:
- К проекту подключена OpenAPI с необходимыми комментариями.
- Регистрация по номеру телефона в формате (79...)
- JWT-авторизация, генерация и валидация access и refresh токенов (время жизни токена 10 мин);
- Ролевая система: админ и пользователь. Админ может создавать, изменять, удалять книги (CRUD). 
Пользователи могут искать книги по доступным полям и категориям, а так же добавлять книги в избранное.
- Хранения изображений локальное. Создается директория внутри проекта.

Для запуска и работы с проектом необходимо: 
1) клонировать репозиторий.
2) создать чистую БД.
3) подкинуть актуальную строку подключения к БД (в файле appsettings.Development.json)
4) накатить миграцию (update-database). В базу будут добавлены все таблицы и необходимые данные (роли, категории, пользователь с ролью admin)
5) запустить проект.

Для создания книги:
1) залогиниться под пользователь с ролью admin (79000000000).
2) загрузить обложку будущей книги (POST api/MediaFiles) чтобы получить Id обложки.
3) получить список доступных категорий (GET api/Book/categories).
4) заполнить все поля в эндпоинте (POST api/Book).
